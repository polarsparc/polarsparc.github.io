<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=windows-1252" />
    <meta name="author" content="Bhaskar.S">
    <meta name="description" content="Claude Code Adventures - Part 2">
    <meta name="subject" content="Claude Code Adventures - Part 2">
    <meta name="keywords" content="agentic, claude, llm">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <title>Claude Code Adventures - Part 2</title>
    <link href="../css/polarsparc-v2.4.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <br/>
    <table borber="0">
      <tr>
        <td valign="bottom"><span id="ps-home"></span></td>
        <td valign="bottom"><span id="home-a"><a id="home-a" href="https://polarsparc.github.io/">PolarSPARC</a></span></td>
      </tr>
    </table>
    <br/>
    <div id="title-div">
      <p>Claude Code Adventures - Part 2</p>
    </div>
    <br/>
    <table id="ad-table">
      <tbody>
        <tr>
          <td class="author-td">Bhaskar S</td>
          <td class="date-td">02/16/2026</td>
        </tr>
      </tbody>
    </table>
    <hr class="line-hr"/>
    <br/>
    <div id="section-div">
      <p>Overview</p>
    </div>
    <div id="para-div">
      <p>In <a href="https://polarsparc.github.io/Claude/Claude-Adventures-1.html" target="_blank"><span class="bold">Part 1</span>
        </a> of this series, we covered the installation and setup of Claude plus got our hands dirty with some '/' (slash) commands.
      </p>
      <p>In this part, we will cover the topics on additional settings, conversational session memory, etc.</p>
    </div>
    <br/>
    <div id="section-div">
      <p>Hands-on with Claude</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The bottom line of the Claude interface is the <span class="bold">Status Line</span> and the default text is set to <span
        class="bold">? for shortcuts</span> as shown in the illustration below by the red arrow:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-13.png" alt="Claude Status Line" />
      <div class="img-cap">Figure.1</div>
    </div>
    <br/>
    <div id="para-div">
      <p>One can customize the status line and other aspects of Claude by changing the configuration settings is defined in a JSON
        file called <span class="hi-yellow">settings.json</span>.</p>
      <p>The settings file located at <span class="bold">$HOME/.claude/settings.json</span> applies to all the projects for the user,
        while the settings file located within a specific project at <span class="bold">.claude/settings.json</span> applies just to
        that project.</p>
      <p>Note that the configuration in the settings file for a specific project at <span class="bold">.claude/settings.json</span>
        overrides the configuration in the settings file located at <span class="bold">$HOME/.claude/settings.json</span>.</p>
    </div>
    <div id="para-div">
      <p>For the demonstration, we will modify the settings file located at <span class="bold">$HOME/.claude/settings.json</span>.</p>
    </div>
    <div id="para-div">
      <p>By default, the contents of the settings file is an empty json as shown below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">$HOME/.claude/settings.json</div>
      <div class="gen-src-body">
<pre>{}</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>Let us change the default status line to include the model name, the current directory, and the percentage of context window
         used. The following should be the modified contents as shown below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">$HOME/.claude/settings.json</div>
      <div class="gen-src-body">
<pre>{
    "$schema": "https://json.schemastore.org/claude-code-settings.json",
    "statusLine": {
        "type": "command",
        "command": "jq -r '\"[? for shortcuts] -> [\\(.model.display_name)] | [\\(.workspace.current_dir)] | [\\(.context_window.used_percentage // 0)% context]\"'"
    }
}</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>Note that the command which updates the status line in Claude receives the JSON session data via the Standard Input (stdin).
        That is what is being parsed by the <span class="hi-grey">jr</span> command to extract the desired fields for display.</p>
    </div>
    <div id="para-div">
      <p>Saving the changes to the above settings file will immediately change the status line as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-14.png" alt="Claude Status Line" />
      <div class="img-cap">Figure.2</div>
    </div>
    <br/>
    <div id="para-div">
      <p>Claude internally uses pre-built tools to perform various tasks. The following table summarizes some of the built-in tools:</p>
    </div>
    <div id="para-div">
      <br/>
      <table id="col2-table">
        <thead>
          <tr>
            <th>Tool</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="col2-c1-odd"><span class="bold">Bash</span></td>
            <td class="col2-c2-odd">Used for executing shell commands in a separate context</td>
          </tr>
          <tr>
            <td class="col2-c1-even"><span class="bold">Edit</span></td>
            <td class="col2-c2-even">Used for making targeted edits to specific files</td>
          </tr>
          <tr>
            <td class="col2-c1-odd"><span class="bold">Glob</span></td>
            <td class="col2-c2-odd">Used for finding files by pattern matching names</td>
          </tr>
          <tr>
            <td class="col2-c1-even"><span class="bold">Grep</span></td>
            <td class="col2-c2-even">Used for finding text/code patterns in files</td>
          </tr>
          <tr>
            <td class="col2-c1-odd"><span class="bold">Read</span></td>
            <td class="col2-c2-odd">Used for reading the contents of files</td>
          </tr>
          <tr>
            <td class="col2-c1-even"><span class="bold">WebFetch</span></td>
            <td class="col2-c2-even">Used for fetching content from a specific URL</td>
          </tr>
          <tr>
            <td class="col2-c1-even"><span class="bold">WebSearch</span></td>
            <td class="col2-c2-even">Used to performing web searches with domain filtering</td>
          </tr>
        </tbody>
      </table>
      <br/>
    </div>
    <div id="para-div">
      <p>One can alter the behavior of Claude (via the settings file) to prevent execution of any destructive command(s) using the
        <span class="bold">Bash</span> tool or consume the contents of the <span class="bold">*.env</span> file(s) which may contain
        secrets or API keys using the <span class="bold">Read</span> tool.</p>
    </div>
    <div id="para-div">
      <p>The following should be the modified contents of the settings file as shown below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">settings.json</div>
      <div class="gen-src-body">
<pre>{
    "$schema": "https://json.schemastore.org/claude-code-settings.json",
    "statusLine": {
        "type": "command",
        "command": "jq -r '\"[? for shortcuts] -> [\\(.model.display_name)] | [\\(.workspace.current_dir)] | [\\(.context_window.used_percentage // 0)% context]\"'"
    },
    "permissions": {
        "deny": [
            "Bash(rm *)",
            "Bash(rm -f *)",
            "Bash(rm -rf *)",
            "Bash(rm -rf /)",
            "Read(./.env)",
            "Read(./*.env)"
        ]
    }
}</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>Let us create a .env file in the Claude project directory by executing the following commands in a terminal window:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>$ cd $HOME/Projects/Claude</p>
      <p>$ echo 'MOST_SECRET_KEY=aa00bb11cc22dd' > secret.env</p>
    </div>
    <br/>
    <div id="para-div">
      <p>At the Claude prompt, execute the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; read the contents of the file @secret.env</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be blocked as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-15.png" alt="Claude Permission Denied" />
      <div class="img-cap">Figure.3</div>
    </div>
    <br/>
    <div id="para-div">
      <p>We will now shift gears to the topic of session <span class="bold">memory</span> !</p>
    </div>
    <div id="para-div">
      <p>At the Claude prompt, let us make a request to create a new project folder and make that folder the working directory by
        executing the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; mkdir Project-1 && cd Project-1</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be executed by Claude with a response as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-16.png" alt="Claude Mkdir Project" />
      <div class="img-cap">Figure.4</div>
    </div>
    <br/>
    <div id="para-div">
      <p>At the Claude prompt, let us ask a question on the preferred programming language by executing the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; what is my preferred programming language</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be executed by Claude with a response as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-17.png" alt="Claude Preferred Language" />
      <div class="img-cap">Figure.5</div>
    </div>
    <br/>
    <div id="para-div">
      <p>Note that each new Claude session is ephemeral, meaning, there is no persistent store between sessions. Claude does <span
        class="underbold">NOT</span> remember user preferences (such as, style, tools, workflows, etc.). One can provide the user
        preferences as a context via the <span class="hi-yellow">CLAUDE.md</span> file, which is a special configuration file that
        Claude reads at the start of every conversational session and serves as persistent memory.</p>
      <p>It provides persistent context across sessions, information Claude cannot infer from code alone. One should think of it as
        a project's institutional memory - a place to store commands, code style preferences, workflow rules, testing conventions,
        and architectural decisions.</p>
    </div>
    <div id="para-div">
      <p>The Claude context memory file located at <span class="bold">$HOME/.claude/CLAUDE.md</span> applies to all the projects
        for the user, while the context memory file located within a specific project at <span class="bold">CLAUDE.md</span> applies
        just to that specific project.</p>
      <p>Note that the preferences in the context memory file for a specific project overrides the preferences in the context memory
        file located at <span class="bold">$HOME/.claude/CLAUDE.md</span>.</p>
    </div>
    <div id="para-div">
      <p>For the demonstration, we will create the project <span class="bold">Project-1</span> specific context memory file located
        at <span class="bold">$HOME/Claude/Project-1/CLAUDE.md</span>.</p>
    </div>
    <div id="para-div">
      <p>When the <span class="hi-vanila">/init</span> command is issued, Claude Code analyzes the current project and automatically
        generates the <span class="bold">CLAUDE.md</span> context memory file. This file typically documents the current project's
        folder structure, technologies and frameworks used (front-end, back-end, database, messaging, etc), the coding and testing
        practices followed, etc.</p>
    </div>
    <div id="para-div">
      <p>At the Claude prompt, let us create the Claude context memory file executing the following slash command:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; /init</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be executed by Claude with a response as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-18.png" alt="Claude Init Command" />
      <div class="img-cap">Figure.6</div>
    </div>
    <br/>
    <div id="para-div">
      <p>Notice that Claude did not create the context memory file since there is no code repository for the current project <span
        class="bold">Project-1</span> !</p>
    </div>
    <div id="para-div">
      <p>At the Claude prompt, let us request the creation of the <span class="bold">CLAUDE.md</span> with the preferred programming
        language by executing the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; create a CLAUDE.md for the current working directory with the programming language preference of Python</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be executed by Claude with a response as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-19.png" alt="Claude Markdown Create" />
      <div class="img-cap">Figure.7</div>
    </div>
    <br/>
    <div id="para-div">
      <p>At the Claude prompt, let us request Claude to create some code by executing the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; Create a REST based webservices project with two endpoints - /hello and /secure-hello. The second endpoint /secure-hello
        must be protected by an api key. Ensure to follow the recommended project and coding standards. The code needs to support
        multiple concurrent users with their own api key</p>
    </div>
    <br/>
    <div id="para-div">
      <p>After a few seconds, Claude prompted if wanted to use <span class="bold">FastAPI</span> web framework or other frameworks.
        Next, Claude prompted if wanted to use <span class="bold">SQLite</span> database. When answered <span class="underbold">YES
        </span> to both questions, Claude proceeded to do its magic and finally responded as shown in the illustration below:</p>
    </div>
    <br/>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-20.png" alt="Claude REST Project" />
      <div class="img-cap">Figure.8</div>
    </div>
    <br/>
    <div id="para-div">
      <p>Notice that Claude created the necessary <span class="bold">Python</span> code that is simple and bare minimum. It did not
        document the code or does not have any any unit test code coverage !</p>
    </div>
    <div id="para-div">
      <p>Interestingly, Claude automagically updated the project's context memory file <span class="bold">CLAUDE.md</span> with the
        following contents as shown below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">Project-1/CLAUDE.md</div>
      <div class="gen-src-body">
<pre># CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Language
- This project uses Python (3.12+)

## Project: Hello API (FastAPI REST)

### Build & Run
```bash
pip install -r requirements.txt
uvicorn app.main:app --reload          # starts on http://localhost:8000
```

### Key Management
```bash
python scripts/manage_keys.py add &lt;owner&gt;    # generate API key
python scripts/manage_keys.py list           # list active keys
python scripts/manage_keys.py revoke &lt;key&gt;   # revoke a key
```

### Architecture
- `app/main.py` — FastAPI app with `/hello` (public) and `/secure-hello` (API-key protected) endpoints
- `app/auth.py` — API key dependency (reads `X-API-Key` header, validates against SQLite)
- `app/database.py` — SQLite setup (`api_keys.db`) and key lookup functions
- `scripts/manage_keys.py` — CLI tool for managing API keys</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>The general template of the context memory file <span class="bold">CLAUDE.md</span> for a typical multi-layer project is as
        shown below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">CLAUDE.md</div>
      <div class="gen-src-body">
<pre># CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Description

An overview and description of the project here.

## Technology Stack
- List of each of the tiers (frontend, backend, database, etc) along with the technologies and frameworks used

## Coding standards
- List of coding practices and standards here.

## Commands by each Tier
### Start Frontend
```bash
list command(s) used
```
### Start Backend
```bash
list command(s) used
```

## Architecture
- List of architectural styles, such as, Controllers, DAOs, DTOs, Entities, Service Interfaces, Utilities 

</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>Note that Claude adds the contents of this context memory file into its context and hence it is <span class="underbold">
        RECOMMENDED</span> that the instructions in this file are crisp and short to the point.</p>
    </div>
    <div id="para-div">
      <p>Now, let us tweak the project's context memory file <span class="bold">CLAUDE.md</span> with the following contents as shown
        below:</p>
    </div>
    <br/>
    <div id="src-outer-div-1">
      <div class="src-cap-1">Project-1/CLAUDE.md</div>
      <div class="gen-src-body">
<pre># CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Language
- This project uses Python (3.12+)

## Mandatory Guidelines
- Ensure the project follows the reommended project structure
- Ensure the project has unit testing code coverage (use pytest)

## Project: Hello API (FastAPI REST)

### Build & Run
```bash
pip install -r requirements.txt
uvicorn app.main:app --reload          # starts on http://localhost:8000
```

### Key Management
```bash
python scripts/manage_keys.py add &lt;owner&gt;    # generate API key
python scripts/manage_keys.py list           # list active keys
python scripts/manage_keys.py revoke &lt;key&gt;   # revoke a key
```

### Architecture
- `app/main.py` — FastAPI app with `/hello` (public) and `/secure-hello` (API-key protected) endpoints
- `app/auth.py` — API key dependency (reads `X-API-Key` header, validates against SQLite)
- `app/database.py` — SQLite setup (`api_keys.db`) and key lookup functions
- `scripts/manage_keys.py` — CLI tool for managing API keys</pre>
      </div>
    </div>
    <br/>
    <div id="para-div">
      <p>At the Claude prompt, let us request Claude to follow the guidelines by executing the following request:</p>
    </div>
    <br/>
    <div id="cmd-div">
      <p>&gt; follow the mandatory guidelines for this project</p>
    </div>
    <br/>
    <div id="para-div">
      <p>The request will be executed by Claude with a response as shown in the illustration below:</p>
    </div>
    <br/>
    <div id="img-outer-div"> <img class="img-cls" src="./images/claude-21.png" alt="Claude Code Coverage" />
      <div class="img-cap">Figure.9</div>
    </div>
    <br/>
    <div id="para-div">
      <p>With this, we conclude the <span class="bold">Part 2</span> of the Claude adventure series !!!</p>
    </div>
    <br/>
    <div id="section-div">
      <p>References</p>
    </div>
    <div id="para-div">
      <p><a href="https://polarsparc.github.io/Claude/Claude-Adventures-1.html" target="_blank"><span class="bold">Claude Code Adventures
        - Part 1</span></a></p>
      <p><a href="https://code.claude.com/docs/en/settings" target="_blank"><span class="bold">Claude Code Settings Documentation</span>
        </a></p>
      <p><a href="https://code.claude.com/docs/en/memory" target="_blank"><span class="bold">Claude Memory Documentation</span></a></p>
    </div>
    <br/>
    <hr class="line-hr" />
    <div>
      <a id="footer-a" href="https://polarsparc.github.io/">&copy;&nbsp;PolarSPARC</a>
    </div>
  </body>
</html>
