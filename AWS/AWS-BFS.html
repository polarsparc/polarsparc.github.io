<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=windows-1252" />
    <meta name="author" content="Bhaskar.S">
    <meta name="description" content="AWS Block and File Storage - Quick Notes">
    <meta name="subject" content="AWS Block and File Storage - Quick Notes">
    <meta name="keywords" content="aws, cloud">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <title>AWS Block and File Storage - Quick Notes</title>
    <link href="../css/polarsparc-v2.4.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <br/>
    <table borber="0">
      <tr>
        <td valign="bottom"><span id="ps-home"></span></td>
        <td valign="bottom"><span id="home-a"><a id="home-a" href="https://polarsparc.github.io/">PolarSPARC</a></span></td>
      </tr>
    </table>
    <br/>
    <div id="title-div">
      <p>AWS Block and File Storage - Quick Notes</p>
    </div>
    <br />
    <table id="ad-table">
      <tbody>
        <tr>
          <td class="author-td">Bhaskar S</td>
          <td class="date-td">12/14/2023</td>
        </tr>
      </tbody>
    </table>
    <hr class="line-hr" />
    <br/>
    <div id="section-div">
      <p>Elastic Block Store (EBS)</p>
    </div>
    <div id="para-div">
      <p><span class="hi-vanila">Elastic Block Store</span> (or <span class="hi-vanila">EBS</span> for short) provides block level
        storage volume that can be attached to an EC2 instance over the network.</p>
      <p>The following are some of the notable points of EBS:</p>
      <ul id="blue-sqr-ul">
        <li><p>Behave like raw, unformatted block devices</p></li>
        <li><p>Can be Boot volumes</p></li>
        <li><p>When attached to an Instance, they are exposed as storage Volumes that persist independently from the life of the
          Instance</p></li>
        <li><p>One can dynamically change the configuration of a volume attached to an Instance</p></li>
        <li><p>Suitable for use as the primary storage for use-cases (file systems, databases) that require fine granular access to
          raw, unformatted, block-level storage</p></li>
        <li><p>Can be attached <span class="underbold">ONLY</span> to a single Instance</p></li>
        <li><p>Bound to a specifc Availability Zone in a Region</p></li>
        <li><p>Multiple volumes can be attached to an Instance</p></li>
        <li><p>Automatically replicated within an Availability Zone (not another Availability Zone) to protect from failures</p></li>
        <li><p>Provides seamless support for data encryption, both data-at-rest and data-in-transit between Instances and volumes</p></li>
        <li><p>Volumes automatically detach from an Instance with their data intact when the Instance terminates and the <span class
          ="hi-grey">Delete on Termination</span> option is <span class="underbold">NOT</span> set</p></li>
        <li><p>By default the <span class="bold">Delete on Termination</span> option is enabled for the root volume and <span class=
          "underbold">NOT</span> for additional volumes</p></li>
      </ul>
      <p>The following are the various EBS volume types:</p>
      <div id="step-div">
        <p>General Purpose SSD (gp3)</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>SSD-backed volumes which balance price and performance for a broad range of transactional workloads</p></li>
        <li><p>Can be attached <span class="underbold">ONLY</span> to a single Instance</p></li>
        <li><p>Latest generation offering with the lowest cost (20 percent lower than gp2)</p></li>
        <li><p>Allows one to scale volume performance independently of volume size</p></li>
        <li><p>Provides single-digit millisecond latency and 99.8 percent to 99.9 percent volume durability</p></li>
        <li><p>Volume sizes can range from 1 GB to 16 TB</p></li>
        <li><p>Consistent baseline IOPS performance of 3000 IOPS</p></li>
        <li><p>Maximum upto 16000 IOPS at a ratio of 500 IOPS per GB size (for volumes of size 32 GB or larger)</p></li>
        <li><p>Consistent baseline Throughput of 125 MBps</p></li>
        <li><p>Maximum Throughput of 1000 MBps at a ratio of 0.25 MBps per IOPS</p></li>
      </ul>
      <div id="step-div">
        <p>Provisioned IOPS SSD (io1)</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>Highest performance SSD volume for IOPS intensive and Througput intensive workloads</p></li>
        <li><p>Deliver the provisioned IOPS performance 99.9 percent of the time</p></li>
        <li><p>Typical for database workloads that are sensitive to storage performance and consistency</p></li>
        <li><p>Provides 99.8 percent to 99.9 percent volume durability</p></li>
        <li><p>Volume sizes can range from 4 GB to 16 TB</p></li>
        <li><p>Can provision from 100 IOPS up to 64000 IOPS per volume</p></li>
        <li><p>Maximum ratio of provisioned IOPS to requested volume size (in GB) is 50:1</p></li>
        <li><p>Supports <span class="hi-grey">Multi-Attach</span> option on this volume which allows it to be attached to up to 16
          Instances in the same Availability Zone</p></li>
      </ul>
      <div id="step-div">
        <p>Provisioned IOPS SSD (io2) Block Express</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>Built for Instances that run on <span class="hi-blue">Nitro System</span> (bare metal capabilities that are built for
          high performance, high availability, and high security)</p></li>
        <li><p>With the highest durability and lowest latency, ideal for running performance-intensive, mission-critical workloads</p></li>
        <li><p>Provides 99.999 percent volume durability</p></li>
        <li><p>Volume sizes can range from 4 GB to a maximum of 64 TB</p></li>
        <li><p>Maximum of 256000 IOPs per volume with an IOPS:GB ratio of 1000:1</p></li>
        <li><p>Supports <span class="hi-grey">Multi-Attach</span> option on this volume which allows it to be attached to up to 16
          Instances in the same Availability Zone</p></li>
      </ul>
      <div id="step-div">
        <p>Throughput Optimized HDD (st1) </p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>Uses low-cost magnetic HDD storage that is designed for frequently accessed, throughput-intensive workloads</p></li>
        <li><p>Performance defined in terms of Throughput rather than IOPS</p></li>
        <li><p>Cannot be a bootable volume</p></li>
        <li><p><span class="underbold">NO</span> support for <span class="hi-grey">Multi-Attach</span></p></li>
        <li><p>Good for the processing needs of Big Data, Data Warehouse type workloads</p></li>
        <li><p>Maximum volume Throughput of 500 MBps</p></li>
        <li><p>Volume sizes can range from 125 MB to 16 TB</p></li>
      </ul>
      <div id="step-div">
        <p>Cold HDD (sc1)</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>The <span class="underbold">LOWEST</span> cost magnetic HDD storage designed for less frequently accessed workloads</p></li>
        <li><p>Performance defined in terms of Throughput rather than IOPS</p></li>
        <li><p>Cannot be a bootable volume</p></li>
        <li><p><span class="underbold">NO</span> support for <span class="hi-grey">Multi-Attach</span></p></li>
        <li><p>Volume sizes can range from 125 MB to 16 TB</p></li>
        <li><p>Maximum volume Throughput of 250 MBps</p></li>
        <li><p>Designed for less frequently accessed workloads such as data archiving</p></li>
      </ul>
    </div>
    <div id="section-div">
      <p>EBS Snapshots</p>
    </div>
    <div id="para-div">
      <p>A <span class="hi-vanila">EBS Snapshots</span> is a point-in-time copy of an EBS volume that is stored in AWS S3.</p>
      <p>The following are some of the features:</p>
      <ul id="blue-sqr-ul">
        <li><p>First snapshot is a <span class="underbold">FULL</span> backup of the volume. Subsequent snapshots are <span class=
          "underbold">INCREMENTAL</span> backup (only the blocks that have changed)</p></li>
        <li><p>Contains all of the information that is needed to restore to a new volume</p></li>
        <li><p>Allows one to create an identical volume in another Availability Zone in same Region</p></li>
        <li><p>Allows one to <span class="underbold">COPY</span> a snapshot to a different Region with Encryption</p></li>
        <li><p>For an encrypted volume, the encryption state is retained in the snapshot</p></li>
      </ul>
    </div>
    <div id="section-div">
      <p>Data Lifecycle Manager</p>
    </div>
    <div id="para-div">
      <p>AWS <span class="hi-vanila">Data Lifecycle Manager</span> (<span class="bold">DLM</span>) allows one automate the creation,
        retention, and deletion of EBS snapshots and EBS-backed AMIs.</p>
      <p>The following are some of the features:</p>
      <ul id="blue-sqr-ul">
        <li><p>Helps protect valuable data by enforcing a regular backup schedule</p></li>
        <li><p>Helps create standardized AMIs that can be refreshed at regular intervals</p></li>
        <li><p>Helps reduce the storage costs by deleting old backups</p></li>
        <li><p>Helps retain backups as required by compliance and regulations</p></li>
        <li><p>Helps create disaster recovery backup policies that backup data to other Regions or accounts</p></li>
      </ul>
    </div>
    <div id="section-div">
      <p>Elastic File System</p>
    </div>
    <div id="para-div">
      <p>AWS <span class="hi-vanila">Elastic File System</span> (<span class="bold">EFS</span>) is a fully managed and elastic file
        storage that lets one share file data without provisioning or managing storage capacity and performance. It is essentially
        a Network File System (NFS) storage for Linux <span class="underbold">ONLY</span> workloads.</p>
      <p>The following are some of the features:</p>
      <ul id="blue-sqr-ul">
        <li><p>Can be mounted to many EC2 Instances in many Availability Zones within a Region</p></li>
        <li><p>It is highly available, durable, scalable, and expensive storage</p></li>
        <li><p>Pay per use (in GB) and scales automatically</p></li>
        <li><p>Can grow to Petabyte automatically based on usage</p></li>
        <li><p>One can control access via Security Group</p></li>
        <li><p>Offers the ability to encrypt data in transit and at rest</p></li>
        <li><p>Encryption at rest <span class="underbold">MUST</span> be configured at creation time</p></li>
      </ul>
      <p>There are two modes of operation, which <span class="underbold">MUST</span> be set at creation time, and are as follows:</p>
      <div id="step-div">
        <p>EFS Performance Mode</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>General Purpose (default) - for latency sensitive use-cases (ex: web server, cms, etc)</p></li>
        <li><p>Max I/O - higher throughput, highly parallel (ex: big data processing)</p></li>
      </ul>
      <div id="step-div">
        <p>EFS Throughput Mode</p>
      </div>
      <ul id="blue-sqr-ul">
        <li><p>Bursting (default) - 1 TB = 50 MBps + burst up to 100 MBps</p></li>
        <li><p>One Zone - only in one Availability Zone with backup for redundancy (ex: dev workloads)</p></li>
      </ul>
    </div>
    <div id="section-div">
      <p>FSx</p>
    </div>
    <div id="para-div">
      <p>AWS <span class="hi-vanila">FSx</span> allows one to launch high-performance, 3rd-party file systems on AWS. It is a fully
        managed service that handles the storage provisioning, patching, and backups.</p>
      <p>There are four FSx options to choose from as follows:</p>
      <ul id="blue-sqr-ul">
        <li><p><span class="hi-vanila">FSx for Lustre</span> - for compute-intensive, high-performance file system that can be
          used for Machine Learning and High Performance Computing workloads. It allows for parallel and distributed processing
          of 'hot data' AND it integrates with S3 to provide 'cold data' storage with quick access</p></li>
        <li><p><span class="hi-vanila">FSx for OpenZFS</span> - for the popular OpenZFS file system that is compatible with the
          NFS protocol</p></li>
        <li><p><span class="hi-vanila">FSx for NetApp ONTAP</span> - for NetApp's popular ONTAP file system that is compatible
          with NFS, SMB, and iSCSI protocols</p></li>
        <li><p><span class="hi-vanila">FSx for Windows File Server</span> - for native Windows NTFS filesystem. It also supports
          SMB protocol and hence can be mounted on Linux EC2 Instances. Has support for Multi-AZ</p></li>
      </ul>
    </div>
    <div id="section-div">
      <p>AWS Storage Gateway</p>
    </div>
    <div id="para-div">
      <p>AWS <span class="hi-vanila">Storage Gateway</span> is a service that connects an on-prem storage with cloud-based storage
        to provide seamless and secure integration.</p>
      <p>The following are some of the features of Storage Gateway:</p>
      <ul id="blue-sqr-ul">
        <li><p>Bridges on-prem data with cloud data</p></li>
        <li><p>Can be useful for backup/restore, disaster recovery</p></li>
        <li><p>There are four types of Storage Gateways - <span class="hi-vanila">S3 File Gateway</span>, <span class="hi-vanila">FSx
          File Gateway</span>, <span class="hi-vanila">Volume Gateway</span>, <span class="hi-vanila">Tape Gateway</span></p></li>
        <li><p><span class="bold">S3 File Gateway</span> makes the AWS S3 buckets accessible via the NFS or SMB protocols for the
          on-prem applications and caches the most recently used files</p></li>
        <li><p><span class="bold">FSx File Gateway</span> provides native access to FSx for Windows File Server on the AWS cloud to
          the SMB clients on-prem and caches the most recently used files</p></li>
        <li><p><span class="bold">Volume Gateway</span> provides an iSCSI interface for AWS S3 and allows for snapshots of on-prem
          volumes to the AWS cloud</p></li>
        <li><p><span class="bold">Tape Gateway</span> mimics the tape backup interface and allows the backup of on-prem data using
          leading vendor backup software to AWS S3 in the AWS cloud</p></li>
      </ul>
    </div>
    <br/>
    <div id="section-div">
      <p>References</p>
    </div>
    <div id="para-div">
      <p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEBS.html" target="_blank"><span class="bold">Official AWS EBS Documentation</span></a></p>
      <p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AmazonEFS.html" target="_blank"><span class="bold">Official AWS EFS Documentation</span></a></p>
    </div>
    <hr class="line-hr" />
    <div>
      <a id="footer-a" href="https://polarsparc.github.io/">&copy;&nbsp;PolarSPARC</a>
    </div>
  </body>
</html>
